<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1"> 
        <title>frise historique</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>        
        
       
        <p id="nbGen">
            <%=Object.values(object.nbVersions).length%>
        </p>
        <h1><button class="btn btn-outline-dark" style="margin-left:40%; margin-top:-15%; position: absolute;" id="reset">reset</button></h1>
        <nav class="navbar-expand-sm" >
            <div class="navbar" style="margin-left: 20%; margin-top: 25%;" >

                
                <ul class="navbar-nav" id="buttonList">
                    <label for="debut" class="indicateur">1661</label>
                    
                    <li class="nav-item" id="debut" name="debut"></li>
                    <%var colorListButton=["chartreuse","deepSkyBlue","yellow","red","cyan","orange","orangeRed","purple"]%>
                    <%var resColors=[]%>
                    <% for(var i=0;i<=Object.values(object.nbVersions).length-1;i++) { %>
                        <%var resRandom=colorListButton[Math.floor(Math.random()*(colorListButton.length-1))]%>    
                        <% var cptColor=0;%> 
                        <li class="nav-item" id="link1">
                            <% if(resColors.includes(resRandom)!==true) {%>
                                <button class="btn text-dark" id="button<%=i+1%>" style="background-color:<%=resRandom%>;">
                                    <%=Object.values(object.nbVersions)[i]%>
                                </button>
                                <% resColors.push(resRandom) %>   
                                <% cptColor+=1%>
                            <% }else{ %>
                                <%var randomRes2=Math.floor(Math.random()*(colorListButton.length-1)); %>
                                <%while (resColors.includes(colorListButton[randomRes2])===true){ %>
                                    <%randomRes2=Math.floor(Math.random()*(colorListButton.length-1)) %>
                                <%}%>
                                <% resColors.push(colorListButton[randomRes2]) %>   
                                <button class="btn text-dark" style="background-color:<%=colorListButton[randomRes2]%>;" id="button<%=i+1%>" name="newButton">
                                    <%=Object.values(object.nbVersions)[i]%>
                                </button>
                            <%}%>
                        </li>                                              
                    <% } %>   
                    <li class="nav-item" id="fin" name="fin"></li>
                    <label for="fin" class="indicateur">1789</label>
                </ul>
                

            </div>
            
        </nav>
        <nav class="navbar-expand-sm">
            <div class="navbar" style="margin-left: 20%; margin-top: 5%;">
                <ul class="navbar-nav " id="cardList">
                    <li class="nav-item" id=fin2 name=fin1></li>
                    <label for="fin1" id="labelFin2"><%=Object.values(object.dates)[0]%></label>
                    <% for(var cpt=0;cpt<=resColors.length-1;cpt++) { %>
                        <li class="nav-item">
                            <div class="card" id="card">                          
                                <div class="card-body mx-auto" style="background-color:<%=resColors[cpt]%>;" id="cardGestion<%=cpt+1%>">
                                    <h1 class="card-title"><%=Object.values(object.nbVersions)[cpt]%></h1>
                                    <p class="card-text">
                                        <%=Object.values(object.descriptions)[cpt]%>
                                    </p>
                                </div>
                            </div>
                        </li>
                        <li class="nav-item" id="fin2" name="fin<%=cpt+1%>"></li>
                        <label for="fin<%=cpt+1%>" id="labelFin<%=cpt+1%>"><%=Object.values(object.dates)[cpt+1]%></label>
                    <%}%>
                </ul> 
            </div>
        </nav>
        <script src="index.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>      
    </body>
</html>